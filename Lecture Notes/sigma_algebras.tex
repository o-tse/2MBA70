
\section{Recalling basic probability theory}\label{sec:recalling_probability_theory}

During the first course on probability theory, Probability and Modeling (2MBS10), the concept of probabilities were introduced. The idea here (in its simplest version) is that you have a space $\Omega$ of possible outcomes of an experiment, and you want to assign a value in $[0,1]$ to each set $A$ of potential outcomes that represent the \emph{probability} that the experiment will yield an outcome in this set $A$. This value was then denoted by $\prob{A}$. 

It turned out that in order to properly define these concepts, we needed to impose structure on both the space of events as well as on the probability measure. For example, if we had two sets $A, B$ of possible outcomes, would like to say something about the probability that the outcome is in either $A$ or $B$. This means we not only do we need to be able compute $\prob{A \cup B}$, we actually want that $A \cup B$ is also an event in our space $\Omega$. Another example concerned the probability of the outcome not being in $A$, which means compute the probability of the event $\Omega\setminus A$, requiring that this set should also be in $\Omega$. In the end this prompted the definition of an \emph{event space} which was a collection $\cF$ of subsets of $\Omega$ such that
\begin{enumerate}
\item $\cF$ is non-empty;
\item If $A \in \cF$, then $A^c := \Omega \setminus A \in \cF$;
\item If $A_1, A_2, \dots \in \cF$, then $\bigcup_{i = 1}^\infty A_i \in \cF$.
\end{enumerate}

In addition, the probability assignment $\bbP$ was defined as a map $\bbP : \cF \to [0,1]$ such that
\begin{enumerate}
\item $\prob{\Omega} = 1$ and $\prob{\emptyset} = 0$, and
\item for any collection $A_1, A_2, \dots$ of disjoint events in $\cF$ it holds that 
\[
	\prob{\bigcup_{i = 1}^\infty A_i} = \sum_{i = 1}^\infty \prob{A_i}.
\]
\end{enumerate}

With this setup it was possible to formally define what a \emph{random variable} is. Here a random variable $X$ was defined on a triple $(\Omega, \cF, \bbP)$, consisting of a space of outcomes, an event space and a probability on that space. Formally it is a mapping $X : \Omega \to \bbR$ such that for each $x \in \bbR$ the set $X^{-1}(-\infty,x):=\{\omega \in \Omega \, : \, X(\omega) \in (-\infty,x)\}$ is in $\cF$. This then allowed us to define the \emph{cumulative distribution function} as $F_X(x) := \prob{X^{-1}(-\infty,x)}$.

It is important to note here that already it was needed to make a distinction of how to define a discrete and a continuous random variable. In addition, a separate definition was required to defined multivariate distribution functions. This limits the extend to which this theory can be applied. For example let $U$ have the uniform distribution on $[0,1]$ and $Y$ have uniform distribution on the set $\{1,2, \dots, 10\}$ and define the random variable $X$ to be equal to $U$ with probability $1/2$ and equal to $Y$ with probability $1/2$. How would you deal with this random variable, which is both discrete and continuous? However, the setting would becomes even more complex if we are not talking about random numbers in $\bbR$ but, say, random vectors of infinite length or random functions. Do these even exist?

The solutions to all these issues comes from a generalization of event spaces and probability measures introduced above. These go by the names sigma-algebra and measure, respectively. With this we can then define when any mapping between spaces is \emph{measurable} and use such mappings to define random objects in that space such a function maps to. The remainder of this chapter is dedicated to introduced all these concepts.


\section{Sigma-algebras}

% Definition sigma algebra

\subsection{Definition and examples}

We begin this section with introducing the general structure needed on a collection of sets to be able to assign a notion of measurement to them. Such a collection is called a sigma-algebra, often written as $\sigma$-algebra.

\begin{definition}[Sigma Algebra]\label{def:sigma_algebra}
A \emph{$\sigma$-algebra} $\cF$ on a set $\Omega$ is a collection of subsets of $\Omega$ with the following properties:
\begin{enumerate}
\item $\emptyset \in \cF$ and $\Omega \in \cF$;
\item For every $A \in \cF$, it holds that $A^c := \Omega \setminus A \in \cF$;
\item For every sequence $A_1, A_2, \dots \in \cF$, it holds that $\bigcup_{i = 1}^\infty A_i \in \cF$.
\end{enumerate}
A set $A \in \cF$ is called \emph{$\cF$-measurable}, or simply \emph{measurable} if it is clear which \sigalg/ is meant.
\end{definition}

This definition looks very similar to that of an event space. It turns out that they are actually the same, see Problem~\ref{prb:event_space_are_sigma_algebras}.

Before we give some examples, we first show that any \sigalg/ is also closed under countable intersections. The proof is left as an exercise to the reader (see Problem~\ref{prb:sigma_algebra_closed_intersections}).

\begin{lemma}\label{lem:sigma_algebra_closed_intersections}
Let $\cF$ be a \sigalg/ on $\Omega$ and let $A_1, A_2, \dots \in \cF$. Then it holds that $\bigcap_{i = 1}^\infty A_i \in \cF$
\end{lemma}

We now give some examples and non-examples of \sigalgs/.

\begin{example}[(Non-)Examples of $\sigma$-algebras]\label{example:sigma_algebras}
\hfil
\begin{enumerate}
\item The collection $\cF = \{\emptyset, \Omega\}$ is a $\sigma$-algebra. This is called the \emph{trivial $\sigma$-algebra} or the \emph{minimal} $\sigma$-algebra on $\Omega$.
\item For any subset $A \subset \Omega$ we have that $\cF := \{\emptyset, A, \Omega\setminus A, \Omega\}$ is a $\sigma$-algebra.
\item The \emph{power set} $\cP(\Omega)$ (the collection of all possible subsets of $\Omega$) is a $\sigma$-algebra. This is sometimes called the \emph{maximal $\sigma$-algebra} on $\Omega$.
\item For any subset $A \subset \Omega$ such that $A \ne \emptyset, \Omega$, we have that $\cF := \{\emptyset, A, \Omega\}$ is \textbf{not} a $\sigma$-algebra.
\item Let $\Omega = [0,1]$ and $\cF$ be the collections of finite unions of intervals of the form $[a,b]$, $[a,b)$, $(a,b]$ and $(a,b)$ for $0 \le a < b \le 1$. Then $\cF$ is \textbf{not} a $\sigma$-algebra.
\item Let $f : \Omega \to \Omega^\prime$ and let $cF^\prime$ be a \sigalg/ on $\Omega^\prime$. Then the collection
\[
	\cF := f^{-1}(\cF^\prime) = \{f^{-1}(A^\prime) \, : \, A^\prime \in \cF^\prime\},
\]
is a \sigalg/. The converse to this is not always true, see Problem~\ref{prb:converse_preimage_sigma_algebra}.
\end{enumerate}
\end{example}

The idea of measure theory is that one can assign a notion of measure to each set in a $\sigma$-algebra. In line with this, a pair $(\Omega, \cF)$ where $\Omega$ is a set and $\cF$ a \sigalg/ on $\Omega$ is called a \emph{measurable space}. 

\subsection{Constructing \sigalgs/}\label{ssec:construction_sigalgs}

We now know what a \sigalg/ is and have seen some example and some non-examples. But the examples we have seen are still quite uninspiring. We will actually discuss a very important \sigalg/ in the next section. But for now, we will describe several ways to construct \sigalgs/. The first is restricting an existing \sigalg/ to a given set.

\begin{lemma}[Restriction of a \sigalg/]\label{lem:restriction_sigma_algebra}
Let $(\Omega, \cF)$ be a measurable space and $A \subset \Omega$. Then the collection define by 
\[
	\cF_A := \{A \cap B \, : \, B \in \cF\},
\]
is a \sigalg/ on $A$, called the \emph{restriction of $\cF$ to $A$}.
\end{lemma}

\begin{proof}
We need to check all three properties.
\begin{enumerate}
\item Since $A \cap \Omega = A$ and $A \cap \emptyset = \emptyset$, it follows that $A, \emptyset \in \cF_A$.
\item Consider a set $C \in \cF_A$. Then by definition $C = A \cap B$ for some $B \in \cF$. Next, we note
\[
	A \setminus C = A \setminus (A \cap B) = A \cap (\Omega \setminus B).
\]
Since $\cF$ is a \sigalg/, it follows that $\Omega \setminus B \in \cF$ and so $A \setminus C \in \cF_A$.
\item Let $C_1, C_2, \dots$ be sets in $\cF_A$. Then there are $B_1, B_2, \dots \in \cF$ such that $C_i = A \cap B_i$. Hence
\[
	\bigcup_{i=1}^\infty C_i = \bigcup_{i=1}^\infty A \cap B_i = A \cap \bigcup_{i=1}^\infty B_i \in \cF_A,
\]
since $\bigcup_{i=1}^\infty B_i \in \cF$ because this is a \sigalg/.
\end{enumerate}
\end{proof}

While it is nice to be able to take a given \sigalg/ and create a possibly smaller one by restricting it to a given set, we might also want to start with a given collection of sets $\cA$ and then create a \sigalg/ that contains this collection. Of course, the powerset $\cP(\Omega)$ will always work. However, it is not always desirable to take this maximal \sigalg/. It would be much better if we could create the smallest \sigalg/ that contains $\cA$. It turns out that this can be done and the resulting \sigalg/ is said to be \emph{generated by $\cA$}. 

\begin{proposition}[Generated \sigalg/]
Let $\cA$ be a collection of subsets of $\Omega$ and denote by $\Sigma_\cA$ the collection of all \sigalgs/ on $\Omega$ that contain $\cA$. Then the collection defined by
\[
	\sigma(\cA) := \bigcap_{\cF \in \Sigma_\cA} \cF,
\]
is a \sigalg/. It is called the \emph{\sigalg/ generated by $\cA$}. Equivalently, $\cA$ is called the \emph{generator of $\sigma(\cA)$}. 
\end{proposition}

\begin{proof}
Similar to Lemma~\ref{lem:restriction_sigma_algebra} we need to check all the requirements.
\begin{enumerate}
\item Since $\emptyset, \Omega \in \cF$ holds for every $\cF \in \Sigma_\cA$ it follows that $\emptyset, \Omega \in \sigma(\cA)$. In particular, we note that $\sigma(\cA)$ is not empty.
\item Take $A \in \sigma(\cA)$. Then $A \in \cF$ for each $\cF \in \Sigma_\cA$. Since $\cF$ is a \sigalg/ it holds that $\Omega \setminus A \in \cF$ for each $\cF \in \Sigma_\cA$. This then implies that $\Omega \setminus A \in \sigma(\cA)$.
\item Let $(A_i)_{i \in \bbN}$ be a sequence of sets in $\sigma(\cA)$. Then by definition $A_i \in \cF$ for each $\cF \in \Sigma_\cA$. Hence
\[
	\bigcup_{i \in \bbN} A_i \in \cF,
\] 
holds for each $\cF \in \Sigma_\cA$ and thus it follows that $\bigcup_{i \in \bbN} A_i \in \sigma(\cA)$.
\end{enumerate}
\end{proof}

If $\cF$ is a \sigalg/ on $\Omega$ and $\cA$ is a collection of subsets such that $\cF = \sigma(\cA)$, we call $\cA$ the \emph{generator of $\cF$}. 

The nice thing about this construction of \sigalgs/ is that it respects inclusions.

\begin{lemma}[Inclusion property of \sigalgs/]
If $A \subset B \subset C$ are subset of $\Omega$, then also $\sigma(A) \subset \sigma(B) \subset \sigma(C)$.
\end{lemma}

Using this powerful construction tool for \sigalgs/, we can now construct products of measurable spaces.

\begin{definition}[Product \sigalg/]
Let $(\Omega, \cF)$ and $(\Omega^\prime, \cF^\prime)$ be two measurable spaces. Then we define $\cF \otimes \cF^\prime$ to be the \sigalg/ on $\Omega \times \Omega^\prime$ generated by sets of the form $A \times B$, with $A \in \cF$ and $B \in \cF^\prime$.
\end{definition}

\subsection{Borel \sigalg/}

The Euclidean space $\bbR^d$ is omnipresent in mathematics and hence pops up in many bachelor courses as well. In particular, in the introduction we noticed that the concept of random variables, as given in the course Probability and Modeling, is mainly concerned with $\bbR$. Based on this, the need to impose a measurable structure on this space, by means of a \sigalg/, should not come as a surprise. It turns out that there is a canonical \sigalg/ which is called the \emph{Borel \sigalg/} and is named after the French mathematician \'{E}mile Borel, who was one of the pioneers of measure theory.

In order to define the Borel \sigalg/ we need the notion of an open set in $\bbR^d$. For any $x \in \bbR$ and $r >0$, we denote by $B_x(r) := \{y \in \bbR^d \, : \, \|x-y\|<r\}$ the open ball of radius $r$ around $x$. A set $U \subset \bbR^d$ is called \emph{open} if and only if for every $x \in U$, there exists an $r > 0$ such that $B_x(r) \subset U$.

\begin{definition}[Borel \sigalg/]
The \emph{Borel \sigalg/} on $\bbR^d$, denoted by $\cB_{\bbR^d}$, is the \sigalg/ generated by all open sets in $\bbR^d$. Elements of $\cB_{\bbR^d}$ are called \emph{Borel sets}.
\end{definition}

\begin{remark}
From the definition, it should be clear that one can actually define a \emph{Borel \sigalg/} on any metric space. Actually, we can define it on any topological space. However, this requires the notion of a topology which is beyond the scope of this course. [ADD REFERENCES]
\end{remark}

While this is a perfectly fine definition, it is often cumbersome to work with. It is therefore convenient that $\cB_{\bbR^d}$ is generated by other, more compact, collections of sets.

\begin{proposition}
The Borel \sigalg/ on $\bbR^d$ is the \sigalg/ generated by the sets
\[
	(-\infty,a_1] \times \dots \times (-\infty, a_d] \quad \text{with } a_i \in \bbQ, i = 1, \dots, d.
\]
\end{proposition}

\section{Measures}

\subsection{Definition and examples}
In the previous section we have seen how we can define and construct collections of sets that we would like to be able to measure. It turned out that this collection should satisfy some properties. Likewise, when defining the notion of a \emph{measure} we also will require it to have certain properties.

The main property we require is called \emph{$\sigma$-additive}. Consider any collection $\cC$ of subsets of some set $\Omega$. Then a set function $\mu : \cC \to [0,\infty]$ is called \emph{$\sigma$-additive} if for any countable family $(A_i)_{i \in \bbN}$ of pairwise disjoint sets in $\cC$
\[
	\mu\left(\bigcup_{i \in \bbN} A_i\right) = \sum_{i = 1}^\infty \mu(A_i).
\]

\begin{definition}[Measure]\label{def:measure}
Let $(\Omega, \cF)$ be a measurable space. A set function $\mu : \cF \to [0,\infty]$ is called a \emph{measure on $(\Omega, \cF)$} if the following holds:
\begin{enumerate}
\item $\mu(\emptyset) = 0$ and,
\item $\mu$ is $\sigma$-additive.
\end{enumerate}
\end{definition}

A triple $(\Omega, \cF, \mu)$, consisting of a measure space $(\Omega, \cF)$ and a measure $\mu$ on that space is called a \emph{measure space}. If the $\mu(\Omega) < \infty$ we say that $\mu$ is $\sigma$-finite and call the associated measure space a \emph{$\sigma$-finite measure space}. If $\mu(\Omega) = 1$ we call $\mu$ a \emph{probability measure} and the associated measure space a \emph{probability space}.

Let us give some simple examples of measures.

\begin{example}[Examples of measures]
\hfil
\begin{enumerate}
\item \textit{(Trivial measures)} Let $(\Omega, \cF)$ be a measurable space. Then the following two set functions are measures:
\[
	\mu(A) = \begin{cases}
		0 &\text{if } A = \emptyset, \\
		\infty &\text{otherwise.}
	\end{cases}
	\quad \text{and} \quad
	\mu(A) = 0 \quad \text{for all } A \in \cF.
\]
\item \textit{(Dirac measure)} Let $(\Omega, \cF)$ be a measurable space and $x \in \Omega$. Then the function
\[
	\delta_x(A) = \begin{cases}
		1 &\text{if } x \in A, \\
		0 &\text{otherwise},
	\end{cases}
\]
is a measure called the \emph{Dirac delta measure} or \emph{unit mass} at $x$.
\item \textit{(Counting measure)} Let $(\Omega, \cF)$ be a measurable space. Then the function defined as
\[
	\mu(A) = \begin{cases}
		|A| &\text{if $A$ is a finite set},\\
		\infty &\text{otherwise}, 
	\end{cases}
\]
is a measure called the \emph{counting measure}.
\item \textit{(Discrete measure)} Let $\Omega = \{\omega_1, \omega_2, \dots\}$ be a countable set and consider the measurable space $(\Omega, \cP(\Omega))$. Take any sequence of $(a_i)_{i \in \bbN}$ such that $\sum_{i = 1}^\infty a_i < \infty$. Then the function
\[
	\mu(A) = \sum_{j = 1}^\infty a_j \delta_{\omega_j}(A),
\]
is a measure called the \emph{discrete measure}. If the $a_i$ are such that $\sum_{i = 1}^\infty a_i = 1$ we call this the \emph{discrete probability measure}.
\end{enumerate}
\end{example}

It should be noted that, outside maybe the discrete measure, these examples do not include any interesting measure. More specifically, consider the Borel space $(\bbR^d, \cB_{\bbR^d})$. Then how can we construct a non-trivial measure on this space? The problem is that the Borel \sigalg/ is only defined in terms of its basis. Hence if we want to define what $\mu(A)$ is for any $A \in \cB_{\bbR^d}$ we first have to get a better handle on the full \sigalg/. That might seem daunting, and it really is. The problem becomes even more challenging when we want the measure on $(\bbR^d, \cB_{\bbR^d})$ to have additional properties. For example, that the measure of any rectangle is simply its volume, which seems like a very natural property to ask for. 

Ideally, we would like to be able to
\begin{enumerate}
\item construct a measure by defining it only on the basis of a \sigalg/, and
\item extend any \emph{reasonable} set function with a given property on a set to a measure on the generated \sigalg/.
\end{enumerate}

Luckily, it turns out that both are possible. However, for this we need to consider how unique measures are when defined only on a basis of a \sigalg/ and develop a tool that allows us to extend functions on sets to measures on the generated \sigalg/. These two topics will be covered in Section~\ref{ssec:uniqueness_existence_measures}.

Before we go there, let us first study some important properties of measures.


\subsection{Important properties}

Although the number of properties a measure needs to satisfy are very limited, they actually imply a great number of other important properties. We will start with the basic ones, which relate the measure of a set that is obtained from a given set operation on two sets $A, B$ to the measure of these sets.

\begin{proposition}[Basic properties of measures]\label{prop:basic_properties_measures}
Let $(\Omega, \cF, \mu)$ be a measure space and let $A, B \in \cF$. Then the following properties hold for $\mu$.
\begin{enumerate}
\item (finitely additive) If $A \cap B = \emptyset$, then $\mu(A \cup B) = \mu(A) + \mu(B)$.
\item (monotone) If $A \subseteq B$, then $\mu(A) \le \mu(B)$.
\item (exclusion) If in addition $\mu(A) < \infty$, then $\mu(B \setminus A) = \mu(B) - \mu(A)$.
\item (strongly additive) $\mu(A \cup B) + \mu(A \cap B) = \mu(A) + \mu(B)$.
\item (subadditive) $\mu(A \cup B) \le \mu(A) + \mu(B)$.
\end{enumerate}
\end{proposition}

\begin{proof}
\hfil
\begin{enumerate}
\item Let $A_1 = A$, $A_2 = B$ and $A_i = \emptyset$ for all $i \ge 3$. Then this property follows directly from the fact that $\mu$ is $\sigma$-additive.
\item Since $A \subseteq B$ we have that $B = A \cup (B \setminus A)$, with $A$ and $B \setminus A$ disjoint sets. It then follows from property 1 that $\mu(B) = \mu(A) + \mu(B \setminus A)$ and thus $\mu(A) \le \mu(B)$.
\item Since $\mu(A) < \infty$ we can subtract $\mu(A)$ from both sides of the equation $\mu(B) = \mu(A) + \mu(B \setminus A)$ to obtain the desired result.
\item First note that if $\mu(A \cap B) = \infty$ then by property 2 we have that also $\mu(A), \mu(B)$ and $\mu(A \cup B) = \infty$ and hence the result holds trivially. So assume now that $\mu(A \cap B) < \infty$. Since 
\[
	A \cup B = (A \setminus (A\cap B)) \cup (B \setminus (A \cap B)) \cup (A \cap B),
\] 
it follows from property 1 that
\[
	\mu(A \cup B) = \mu(A \setminus (A \cap B))) + \mu(A \cap B) + \mu(B \setminus (A \cap B)).
\] 
Adding $\mu(A \cap B) < \infty$ to both side we get
\begin{align*}
	\mu(A \cup B) + \mu(A \cap B) 
	&= \mu(A \setminus (A \cap B))) + \mu(A \cap B) + \mu(B \setminus (A \cap B)) + \mu(A \cap B)\\
	&= \mu(A) + \mu(B), 
\end{align*}
where the last line follows from applying property 3 twice.
\item Property 4 implies that $\mu(A) + \mu(B) = \mu(A \cup B) + \mu(A \cap B) \ge \mu(A \cup B)$.
\end{enumerate}
\end{proof}

The subadditive property can actually be extended to any countable family of sets.

\begin{lemma}[Measures are $\sigma$-subadditive]
Let $(\Omega, \cF, \mu)$ be a measure space and let $(A_i)_{i \in \bbN}$ be a family of sets in $\cF$. Then
\[
	\mu\left(\bigcup_{i \in \bbN} A_i\right) \le \sum_{i = 1}^\infty \mu(A_i),
\]
and the measure $\mu$ is said to be \emph{$\sigma$-subadditive}.
\end{lemma}

The proof of this lemma is left as an exercise, see Problem [REF].

In addition to properties relating a measure $\mu$ to set operations, we also want to understand what happens if we take a limit of the measures of an infinite family of sets. Let $(A_i)_{i \in \bbN}$ be a family of measurable sets. We say this family is \emph{increasing} if $A_i \subset A_{i+1}$ holds for all $i \in \bbN$. Because a measure is monotone it follows that the sequence $(\mu(A_i))_{i \in \bbN}$ is a monotone sequence in $[0,\infty]$. So a natural question would be: what is the limit of this sequence? It turns out that this can be expressed as the measure of the union of all sets.

\begin{proposition}[Continuity from below]
Let $(\Omega, \cF, \mu)$ be a measure space and let $(A_i)_{i \in \bbN}$ be an increasing family of measurable sets. Then
\[
	\lim_{i \to \infty} \mu(A_i) = \mu\left(\bigcup_{i \in \bbN} A_i\right).
\]
\end{proposition}

\begin{proof}
TODO
\end{proof}

A similar property holds for any \emph{decreasing} family of sets. That is, a family $(A_i)_{i \in \bbN}$ of measurable sets such that $A_i \supset A_{i+1}$ holds for all $i \in \bbN$. Here we do have to make an assumption on the measure of the biggest set $A_1$.

\begin{proposition}[Continuity from above]
Let $(\Omega, \cF, \mu)$ be a measure space and let $(A_i)_{i \in \bbN}$ be an decreasing family of measurable sets such that $\mu(A_1) < \infty$. Then
\[
	\lim_{i \to \infty} \mu(A_i) = \mu\left(\bigcap_{i \in \bbN} A_i\right).
\]
\end{proposition}

\begin{proof}
TODO
\end{proof}

In addition to being useful in determining the limits of the measure of families of sets, these continuity properties are actually powerful enough to characterize a measure. 

\begin{theorem}[Alternative definition of a measure]
Let $(\Omega, \cF)$ be a measurable space. A set function $\mu \cF \to [0,\infty]$ is a measure if, and only if,
\begin{enumerate}
\item $\mu(\emptyset) = 0$,
\item $\mu(A \cup B) = \mu(A) + \mu(B)$, for any two disjoint sets $A, B \in \cF$, and
\item for any increasing family $(A_i)_{i \in \bbN}$ of measurable sets such that $A_\infty := \bigcup_{i \in \bbN} A_i \in \cF$, it holds that
\[
	\mu(A_\infty) = \lim_{i \to \infty} \mu(A_i) \quad (= \sup_{i \in \bbN} \mu(A_i)).
\]
\end{enumerate}
\end{theorem}

\begin{proof}
TODO
\end{proof}

\subsection{Uniqueness and existence of measures}\label{ssec:uniqueness_existence_measures}

In Section~\ref{ssec:construction_sigalgs} we discussed that in order to define measures on the Borel space we need to be able to construct measure on a \sigalg/ $\sigma(\cA)$ by defining them on the generator $\cA$. In particular, we need that if to measures $\mu_1$ and $\mu_2$ agree on $\cA$, that is $\mu_1(A) = \mu_2(A)$ for all $A \in \cA$, then they should agree on the entire \sigalg/. The purpose of this section is to provide two key theorems that show that both these things are possible. We state them here without proof, as this would require the introduction of several different concepts. The full proof is provided in the Appendix. What we will do is utilize both results to construct a canonical measure on the Borel space $(\bbR^d, \cB_{\bbR^d})$, called the \emph{Lebesgue measure}.

We start with showing that measures that agree on the generators of \sigalgs/ agree on the entire \sigalg/, under some small conditions on the generator set.

\begin{theorem}[Uniqueness of measures]\label{thm:uniqueness_measures}
Let $(\Omega ,\cF)$ be a measurable space where $\cF = \sigma(\cA)$ with $\cA$ satisfying the following properties:
\begin{enumerate}
\item for any $A, B \in \cA$, $A \cap B \in \cA$, and
\item there exists a sequence $(A_i)_{i \in \bbN}$ with $\Omega = \bigcup_{i \in \bbN} A_i$.
\end{enumerate}
Then any two measure $\mu_1$ and $\mu_2$ that are equal on $\cA$ and are finite on every element of the sequence $(A_i)_{i \in \bbN}$ are equal on the entire \sigalg/ $\cF = \sigma(\cA)$.
\end{theorem}

The main implication of Theorem~\ref{thm:uniqueness_measures} is that it makes sense to construct a measure on $\sigma(\cA)$ by defining it on the generator $\cA$. But how can we construct a measure on this set? In particular, is it possible to start with a set function that does not satisfy all the properties of a measure? We will address these questions next. But in order to do so we need to introduce the notion of an \emph{algebra}.

\begin{definition}[Algebra's of sets]
A collection $\cA$ of subsets of $\Omega$ is called an \emph{algebra} if
\begin{enumerate}
\item $\emptyset \in \cA$,
\item $\Omega \setminus A \in \cA$ for all $A \in \cA$, and
\item $A \cup B \in \cA$ for every $A, B \in \cA$.
\end{enumerate}
\end{definition}

Note that every \sigalg/ is an algebra. The idea is that is we start with a set function on an algebra, we can extend this to all the way to a measure on \sigalg/. To ensure this extension is possible, we need to start with set functions that have some structure, suspiciously called premeasures. 

\begin{definition}[Premeasures]
Let $\cA$ be an algebra on $\Omega$. A set function $\mu_o : \cA \to [0,\infty]$ is called a \emph{premeasure} if
\begin{enumerate}
\item $\mu_o(\emptyset) = 0$, and
\item $\mu_o$ is $\sigma$-additive.
\end{enumerate}
\end{definition}

If we start with a premeasure $\mu_o$ on an algebra $\cA$ we can construct a new set function on the entire collection of subsets of $\Omega$.

\begin{definition}[Outer measure]
Let $\mu_o$ be a premeasure on an algebra $\cA$ on $\Omega$. Then the set function $\mu^\ast$ defined by
\[
	\mu^\ast(A) := \inf \left\{\sum_{i = 1}^\infty \mu_o(A) \, : \, A \subset \bigcup_{i \in \bbN} A_i, \, A_i \in \cA\right\},
\]
is called the \emph{outer measure induced by $\mu_o$}. 
\end{definition}

The idea is that the outer measure $\mu^\ast$ is almost a measure. This is captured by the following set of properties it has.

\begin{proposition}
Let $\mu_o$ be a premeasure on an algebra $\cA$ on $\Omega$ and $\mu^\ast$ be the outer measure induced by $\mu_o$. Then $\mu^\ast$ satisfies the following properties:
\begin{enumerate}
\item $\mu^\ast(A) = \mu_o(A)$ for all $A \in \cA$,
\item $\mu^\ast(\emptyset) = 0$ and $\mu^\ast(A) \ge 0$ for all $A \subset \Omega$,
\item $\mu^\ast$ is monotone, and
\item $\mu^\ast$ is $\sigma$-subadditive.
\end{enumerate}
\end{proposition}

\begin{proof}
TODO
\end{proof}

Observe that indeed, $\mu^\ast$ is almost a measure. The only property missing is full $\sigma$-additivity. Then next fundamental result, due to the Greek mathematician Constantin Carath\'{e}odory, provides a way to construct a \sigalg/ from a given algebra such that $\mu^\ast$ can be extended to a true measure on it. We state a partial version here, without proof.

\begin{theorem}[Carath\'{e}odory's extension theorem (partial)]\label{thm:Caratheorody_extenstion}
Let $\cA$ be an algebra on $\Omega$. Let $\mu_0$ be a pre-measure on $\cA$ and denote by $\mu^\ast$ the outer measure induced by $\mu_0$. Then the collection defined by
\[
	\cA_{\mu^\ast} := \left\{B \subset \Omega \, : \, \mu^\ast(A) \ge \mu^\ast(A \cap B) + \mu^\ast(A \setminus B) \, \forall A \in \cA\right\},
\] 
is a \sigalg/ on $\Omega$. Moreover, the restriction $\bar{\mu} := \mu^\ast|\cA_{\mu^\ast}$ of $\mu^\ast$ to $\cA_{\mu^\ast}$ is a measure on $\cA_{\mu^\ast}$ called the \emph{Carath\'{e}odory extension of $\mu_o$}.
\end{theorem}

At this point we should take some time to fully appreciate what Theorem~\ref{thm:Caratheorody_extenstion} gives us. In order to construct a measure all we need is an algebra on $\Omega$ and some premeasure.  

\begin{remark}
The statement in Theorem~\ref{thm:Caratheorody_extenstion} only covers part of the original theorem. It actually turns out that the \sigalg/ constructed has some very nice properties and the measure space $(\Omega, \cA_{\mu^\ast}, \bar{\mu})$ is \emph{complete}. However, in order to properly define these notions we needed to introduce additional concepts going beyond the goal of this section. The interested reader is referred to the Appendix for the full statement and details, including the proof of this theorem. 
\end{remark}

Let us now utilize the Carath\'{e}odory extension to obtain a measure on the Borel space $(\bbR^d, \cB_{\bbR^d})$. 

%a \emph{semi-algebra}.
%
%\begin{definition}[Semi-algebra]
%A collection $\cS$ of subsets of $\Omega$ is called a \emph{semi-algebra} if
%\begin{enumerate}
%\item $\emptyset, \Omega \in \cS$,
%\item $A \cap B \in \cS$ for every $A, B \in \cS$, and
%\item for every $A \in \cS$ such that $\Omega \setminus A \notin \cS$, there exist a family $(A_i)_{i \in \bbN}$ of pairwise disjoint sets such that $\Omega\setminus A = \bigcup_{i \in \bbN} A_i$.
%\end{enumerate}
%\end{definition}
%
%As the name suggests, any algebra is a semi-algebra. Moreover, as was the case for \sigalgs/ we can construct a minimal algebra that contains a given semi-algebra $\cS$.
%
%\begin{proposition}
%Let $\cS$ be a semi-algebra on $\Omega$. Then the collection
%\[
%	\cA(\cS) := \left\{A \subset \Omega \, : \, \exists n\in \bbN, \, A = \bigcup_{i =1}^n A_i, \, A_i \in \cS \text{ pairwise disjoint} \right\},
%\]
%is the smallest algebra containing $\cS$ and is called \emph{the algebra generated by $\cS$}.
%\end{proposition}
%
%This result is useful, as it allows us to extend any set function $\mu$ on a semi-algebra $\cS$ to a set function on the algebra $\cA(\cS)$ by simply defining
%\[
%	\mu(A) = \sum_{i = 1}^n \mu(A_i),
%\]
%where the $A_i$ come from the definition of $\cA(\cS)$.

\section{Measurable functions}

% Definition of measurable functions

% Properties of measurable functions

% How to check measurability

% Sigma-algebras generated by measurable functions

\section{Random variables and general stochastic objects}

% Random variables

\section{Problems}

\begin{problem}\label{prb:event_space_are_sigma_algebras}
Show that the definition of an \emph{event space} as given in Section~\ref{sec:recalling_probability_theory} is equivalent to that of a $\sigma$-algebra as given in Definition~\ref{def:sigma_algebra}.
\end{problem}

\begin{problem}\label{prb:sigma_algebra_closed_intersections}
Prove Lemma~\ref{lem:sigma_algebra_closed_intersections}.
\end{problem}

\begin{problem}\label{prb:converse_preimage_sigma_algebra}
Provide a counter example to the statement: if $(\Omega, \cF)$ is a measurable space and $f : \Omega \to \Omega^\prime$. Then $f(\cF)$ is a \sigalg/ on $\Omega^\prime$.
\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%												Clippings																	%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%But in order to state and prove this result we need to introduce a few concepts as well as a powerful theorem, called the monotone class theorem.
%
%We start with the definition of an algebra.
%
%\begin{definition}[Algebra's of sets]
%A collection $\cA$ of subsets of $\Omega$ is called an \emph{algebra} if
%\begin{enumerate}
%\item $\emptyset \in \cA$,
%\item $\Omega \setminus A \in \cA$ for all $A \in \cA$, and
%\item $A \cup B \in \cA$ for every $A, B \in \cA$.
%\end{enumerate}
%\end{definition}
%
%Observe that, as the name suggests, every \sigalg/ is indeed and algebra. However, in addition to the properties of an algebra, \sigalgs/ where also closed under countable unions and intersections. We will actually take these properties on their own and define any collection of subsets that have these two properties a monotone class.
%
%\begin{definition}[Monotone classes]
%A collection $\cM$ of subsets of $\Omega$ is called a \emph{monotone class} if
%\begin{enumerate}
%\item $\bigcup_{i \in \bbN} A_i \in \cM$ holds for any increasing family of sets $(A_i)_{i \in \bbN}$ in $\cM$, and
%\item $\bigcap_{i \in \bbN} A_i \in \cM$ holds for any decreasing family of sets $(A_i)_{i \in \bbN}$ in $\cM$
%\end{enumerate}
%\end{definition}
%
%As we already remarked, any \sigalg/ is a monotone class. However, there are monotone classes that are not algebras and vise versa, there are algebras that are not monotone classes. However, suppose we start with an algebra $\cA$ and we want to turn this into a \sigalg/. Then we at least need to ensure it is also a monotone class. Similar to the construction of $\sigma(\cA)$ we can construct the smallest monotone class that contains $\cA$. Moreover, it turns out, maybe not surprisingly, that the resulting collection is \sigalg/. Even better, it is exactly $\sigma(\cA)$. This is the content of the monotone class theorem. 
%
%\begin{theorem}[Monotone class theorem]
%Let $\cA$ be an algebra on $\Omega$ and let $\Xi_\cA$ denote the collection of all monotone classes that contain $\cA$. Then 
%\begin{enumerate}
%\item the collection defined by
%\[
%	\cM(\cA) = \bigcup_{\cM \in \Xi_\cA} \cM,
%\]
%is a monotone class, and moreover
%\item $\cM(\cA)$ is the smallest \sigalg/ containing $\cA$, i.e. $\cM(\cA) = \sigma(\cA)$.
%\end{enumerate}
%\end{theorem}
%
%The proof of this theorem is left as an structured exercise, see Problem [REF].
%
%We will leverage the full power of this result to show that, in particular, any two measure that agree on the basis of a \sigalg/ are the same on the entire \sigalg/. The result we state is actually more general.
%
%\begin{theorem}[Uniqueness of measures]
%Let $(\Omega, \cF)$ be a measureable space and let $\cA \subset \cF$ be an algebra. In addition, let $\mu_1$ and $\mu_2$ be finite measures on $(\Omega, \cF)$ such that $\mu_1 = \mu_2$ on $\cA$, i.e. $\mu_1(A) = \mu_2(A)$ for every $A \in \cA$. Then $\mu_1 = \mu_2$ on $\sigma(\cA)$.
%\end{theorem}
%
%\begin{proof}
%Define the collection
%\[
%	\cM := \left\{A \in \cF \, : \, \mu_1(A) = \mu_2(A)\right\}.
%\]
%The goal of the proof is to show that this is a monotone class. If that is true then, since $\cA \subset \cM$, the monotone class theorem (Theorem [REF]) implies that $\sigma(\cA) = \cM(\cA) \subset \cM$ and hence $\mu_1 = \mu_2$ on $\sigma(\cA)$.
%
%To show that $\cM$ is a monotone class let $(A_i)_{i \in \bbN}$ be an increasing sequence in $\cM$. Since by definition, $\mu_1(A_i) = \mu_2(A_i)$ for all $i \in \bbN$, continuity from below (Proposition [REF]) implies that
%\[
%	\mu_1\left(\bigcup_{i \in \bbN} A_i\right) = \lim_{i \to \infty} \mu_1(A_i) 
%	= \lim_{i \to \infty} \mu_2(A_i) = \mu_2\left(\bigcup_{i \in \bbN} A_i\right),
%\]
%which implies that $\bigcup_{i \in \bbN} A_i \in \cM$.
%
%Similarly, now let $(A_i)_{i \in \bbN}$ be a decreasing sequence. Again, by definition $\mu_1(A_i) = \mu_2(A_i)$ for all $i \in \bbN$ and moreover $\mu_1(A_1) = \mu(A_1) < \infty$ since both measures are finite. Hence continuity from above (Proposition [REF]) implies that
%\[
%	\mu_1\left(\bigcap_{i \in \bbN} A_i\right) = \lim_{i \to \infty} \mu_1(A_i) 
%	= \lim_{i \to \infty} \mu_2(A_i) = \mu_2\left(\bigcap_{i \in \bbN} A_i\right).
%\]
%It then follows that $\bigcap_{i \in \bbN} A_i \in \cM$ which shows that $\cM$ is indeed a monotone class.
%\end{proof}
