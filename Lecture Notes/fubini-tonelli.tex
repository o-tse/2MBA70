
In this chapter we will discuss how to turn two measure space into a new measure space by taking a \emph{product}. We will then consider integration on this product space and relate it to integration over the individual spaces. In particular, we will discuss several theorems that basically say that integrating a function $f(x,y)$ with respect to $(x,y)$ is the same as first integrating with respect to $x$ and then to $y$, or the other way around. In other words, the order does not matter.

\section{Product measures and independent random variables}
\label{se:product-measures}

Recall that in Chapter~\ref{chapter:sigma_algebras} we defined the notion of the product of two measurable spaces, see Definition~\ref{def:product_sigalg}. Later, in Chapter~\ref{chapter:measurable_functions} we gave a alternative definition using the \sigalg/ generated by projections, see~\eqref{eq:product_sigalg_equivalence}. 

Given that we can take two measurable space $(\Omega_1, \cF_1)$ and $(\Omega_2, \cF_2)$ and turn them into a new space, by taking a ``product", can we do the same for two measure spaces $(\Omega_1, \cF_1, \mu_1)$ and $(\Omega_2, \cF_2, \mu_2)$? Here of course we would like to have our product measure relate to measures $\mu_1$ and $\mu_2$. One natural case would be that $\mu_1 \otimes \mu_2 (A \times B) =\mu_1(A) \mu_2(B)$, for all $A \in \cF_1$ and $B \in \cF_2$.

The following theorem states that such a measure does exist, and is unique. It does require one small condition on the individual measure spaces. Recall that a measure space $(\Omega, \cF, \mu)$ is called $\sigma$-finite if there exist a growing sequence $(A_n)_{n \ge 1}$ of measurable sets such that $\bigcup_{n \ge 1} A_n = \Omega$ and $\mu(A_n) < \infty$ holds for all $n \ge 1$. 

\begin{theorem}[Construction of product measure]
	\label{th:construction-product-measure}
	Let $(\Omega_i, \cF_i, \mu_i)$, for $i = 1, 2$,  be two $\sigma$-finite measure spaces. Let $\cF_1 \otimes \cF_2$ denote the product $\sigma$-algebra. 
	Then there exists a unique measure $\mu_1 \otimes \mu_2$ on 
	$(\Omega_1 \times \Omega_2, \cF_1 \otimes \cF_2)$ such that 
	\[
	(\mu_1 \otimes \mu_2)(A \times B ) = \mu_1(A) \cdot \mu_2(B)
	\]
	for all $A \in \cF_1$ and $B \in \cF_2$.
\end{theorem}

The construction of the product measure follows the same procedure as the construction of the Lebesgue measure, i.e., by applying the so-called \emph{Carath\'eodory machinery}, which can be found in the Appendix.

Suppose now we have two measures spaces $(\Omega_i, \cF_i, \mu_i)$ for $i = 1,2$ such that $\cF_i = \sigma(\cA_i)$, i.e. the \sigalgs/ are generated by some sets $\cA_i$. Then one might expect that the product $\cF_1 \otimes \cF_2$ is generated by $\cA_1 \times \cA_2$. This turns out to indeed be true

\begin{lemma}\label{lem:product_sigalgs_generators}
Let $(\Omega_i, \cF_i, \mu_i)$, for $i = 1, 2$,  be two $\sigma$-finite measure spaces, such that $\cF_i = \sigma(\cA_i)$ for some generator sets $\cA_1, \cA_2$. Then
\[
	\sigma(\cA_1 \times \cA_2) = \sigma(\cF_1 \times \cF_2) = \cF_1 \otimes \cF_2
\] 
\end{lemma}

\begin{proof}
See Problem~\ref{prb:product_sigalgs_generators}.
\end{proof}

This lemma is very useful because it allows us to analyze product measure $\mu_1 \otimes \mu_2$ by only considering their values on sets from $\cA_1 \times \cA_2$. This is what we were already used to for general measures.

\medskip

Let us now go back to the setting of probability theory. Consider a probability space $(\Omega, \cF, \mathbb{P})$ and two random variable $X_i: (\Omega, \cF) \to (E_i, \mathcal{G}_i)$, $i=1,2$. Recall that the \emph{law} of $X_i$ is defined as $\mu_i:= (X_i)_\# \mathbb{P}$. In Probability and Modeling you were taught that the random variables $X_1$ and $X_2$ are \emph{independent} if and only if the law of the random variable $(X_1, X_2): \Omega \to E_1\times E_2$ is the product measure $\mu_1 \otimes \mu_2$.

The nice thing is that we can frame the notion of independence in a more general measure-theoretical setting. To this end we start by defining what we mean by the independence of $\sigma$-algebras.

\begin{definition}
	Let $(\Omega, \cF, \mathbb{P})$ be a probability space, let $\mathcal{I}$ be some index set and let $\{\cF_\alpha\}_{\alpha \in \mathcal{I}}$ be a family of sub-$\sigma$-algebras. We say that it is a family of independent sub-$\sigma$-algebras if for every finite subset $J \subset \mathcal{I}$, and sets $A_j\in \cF_j$ for $j \in J$,
	\[
	\mathbb{P}\biggl( \bigcap_{j \in J} A_j \biggr) = \prod_{j \in J} \mathbb{P}(A_{j}).
	\]
\end{definition}

We can now express the independence of random variables in this language.

\begin{definition}
	Let $\{X_\alpha\}_{\alpha \in \mathcal{I}}$ be a family of random variables, with $X_\alpha:(\Omega, \cF) \to (E_\alpha, \mathcal{G}_\alpha)$. We say that the random variables $X_\alpha$ are independent if the family of sub $\sigma$-algebras $\{\sigma(X_\alpha)\}_{\alpha \in \mathcal{I}}$, is independent.
\end{definition}

The independence of events can also be expressed in the measure-theoretic language.

\begin{definition}
	Let $(\Omega, \cF, \mathbb{P})$ be a probability space. A family of events $\{A_\alpha\}_{\alpha \in \mathcal{I}}$ is called independent if the family $\{ \cF_\alpha \}_{\alpha\in\mathcal{I}}$ of sub-$\sigma$-algebras
	\[
	\cF_\alpha := \{ \emptyset, A_\alpha, \Omega \backslash A_\alpha, \Omega \}\qquad\text{is independent.}
	\]	
\end{definition}

The following result shows that these concepts are really generalizations of concepts that you have seen in elementary probability theory.

\begin{lemma}\label{lem:independence_random_variables}
Let $X_1, X_2: (\Omega, \cF) \to (\bbR, \cB)$ be two random variables. Show that $X_1$ and $X_2$ are independent according to the above definition, if and only if 
	\[
	\mathbb{P}( X_1 \leq a,\; X_2 \leq b ) = \mathbb{P}(X_1 \leq a)\, \mathbb{P}(X_2 \leq b)
	\]
	for every $a \in \bbR$, $b \in \bbR$.
\end{lemma}

\begin{proof}
See Problem~\ref{prb:independence_random_variables}.
\end{proof}

\begin{theorem}[Borel-Cantelli Lemma II]
	Let $(\Omega, \cF, \mathbb{P})$ be a probability space, and let $A_i \in \cF$, $i \in \mathbb{N}$ be a sequence of independent events such that
	\[
		\sum_{i=1}^\infty \mathbb{P}(A_i) = +\infty.
	\]
	Then
	\[
	\mathbb{P} \left( \bigcap_{m = 1}^\infty \bigcup_{i=m}^\infty A_i \right) = 1,
	\]
	i.e., infinitely many of the events occur almost surely.
\end{theorem}
\begin{proof}
	Let $m \in \mathbb{N}$. Note that
	\begin{align*}
	\mathbb{P}\left(\bigcap_{i=m}^{\infty} (\Omega \backslash A_i) \right) &= 
	\prod_{i=m}^\infty (1 - \mathbb{P}(A_i)) \\
	&\leq \prod_{i=m}^\infty \exp(- \mathbb{P}(A_i)) 
	= \exp\left(- \sum_{i=m}^\infty \mathbb{P}(A_i)\right) = 0.\qedhere
	\end{align*}
\end{proof}

%\section{Construction of product measures}
%
%Given two measure spaces $(\Omega_1, \cF_1, \mu_1)$ and $(\Omega_2, \cF_2, \mu_2)$ we recall the definition of the product $\sigma$-algebra $\cF_1 \otimes \cF_2$ defined on the set $\Omega := \Omega_1 \times \Omega_2$ as the $\sigma$-algebra generated by the collection 
%\[
%\cS = \bigl\{A \times B \subset \Omega : \ A \in \cF_1,\; B \in \cF_2 \bigr\}.
%\]
%We define the set function $\mu_\circ: \cA(\cS) \to [0,\infty]$ by
%\[
%\mu_\circ(A \times B) := \mu_1(A) \cdot \mu_2(B)\qquad\text{for $A \in \cF_1$ and $B \in \cF_2$.}
%\]
%
%
%In Section \ref{se:product-measures} we stated in Theorem \ref{th:construction-product-measure} that in case the measure spaces are $\sigma$-finite, there exists a unique measure $\mu_1 \otimes \mu_2$ on $(\Omega, \cF_1 \otimes \cF_2)$ such that
%\[
%(\mu_1 \otimes \mu_2) (A \times B) = \mu_\circ(A \times B) = \mu_1(A) \cdot \mu_2(B)\qquad \text{for all $A \in \cF_1$ and $B \in \cF_2$}.
%\]
%This theorem is of course proven by an application of the Carath\'eodory machinary. In order to apply the Carath\'eodory extension theorem, we should verify that $\cS$ is a semi-algebra of sets and that $\mu_\circ$ is a premeasure. As always, this will take some effort. In view of time, we will state the outcome of the Carath\'eodory extension theorem.


% to show the latter. The hard work is done in the following lemma, which can from some perspective be seen as a mini-version of the Tonelli theorem that we will see later in this chapter.
%
%\begin{lemma}[Mini-Tonelli]
%	Let $A \in \cF_1$, $B \in \cF_2$ and $A_i\in \cF_1$ and $B_i \in \cF_2$ for $i \in \mathbb{N}$, such that the sets $A_i \times B_i$ are mutually disjoint and 
%	\[
%	A\times B = \bigcup_{i=1}^\infty (A_i \times B_i).
%	\]
%	Then
%	\[
%	\mu_1(A) \cdot \mu_2(B) = \sum_{i=1}^\infty \mu_1(A_i) \cdot \mu_2(B_i).
%	\]
%\end{lemma}
%
%\begin{proof}
%	Let $y \in \Omega_2$ fixed. Define the sets $E_{i,y}\in \cF_1$ by
%	\[
%	E_{i,y} := \{ x \in \Omega_1 : \ (x,y) \in A_i \times B_i \},
%	\]
%	and notice that the $E_{i,y}$ are mutually disjoint and
%	\[
%	A = \bigcup_{i=1}^\infty E_{i,y}.
%	\]
%	By the $\sigma$-additivity of $\mu_1$,
%	\[
%	\mu(A) = \sum_{i=1}^\infty \mu_1(E_{i,y}).
%	\]
%	Note also that 
%	\[
%	\mu_1(A_i)\mu_2(B_i) = \mu_1(A_i) \int_{\Omega_2} \mathbf{1}_{B_i} \dd \mu_2
%	\]
%	thus
%	\[
%	\begin{split}
%	\sum_{i=1}^\infty \mu_1(A_i)\mu_2(B_i) 
%	&= \sum_{i=1}^\infty \mu_1(A_i) \int_{\Omega_2} \mathbf{1}_{B_i}\dd \mu_2.
%	\end{split}
%	\]
%	By the monotone convergence theorem this equals
%	\[
%	\begin{split}
%	\sum_{i=1}^\infty \mu_1(A_i) \mu_2(B_i)
%	&= \int_{\Omega_2} \sum_{i=1}^\infty \mu_1(A_i) \mathbf{1}_{B_i} \dd \mu_2 \\
%	&= \int_{\Omega_2 } \mu_1(A)  \dd \mu_2\\
%	&= \mu_1(A) \mu_2(B)
%	\end{split}
%	\]
%\end{proof}
%
%\begin{proposition}
%	Let $\cS$ be the collection of subsets of $\Omega_1 \times \Omega_2$ of the form $A \times B$ with $A \in \cF_1$ and $B \in \cF_2$. Then $\cS$ is a semiring. Moreover, define the set function $\mu_\circ: \cS \to [0,\infty]$ by 
%	\[
%	\mu_\circ(A \times B) = \mu_1(A) \cdot \mu_2(B).
%	\]
%	Then $\mu_\circ$ is a premeasure.
%\end{proposition}
%
%\begin{proof}
%	It is clear that $\cS$ is a semiring, and the finite additivity follows from the previous lemma. So we are left to show the countable subadditivity. It suffices to show that when $A_i \times B_i$, with $i \in \mathbb{N}$ and $A_i \in \cF_1$ and $B_i \in \cF_2$ are a disjoint cover of a set $A \times B$ with $A \in \cF_1$ and $B \in \cF_2$ then
%	\[
%	\mu_1(A) \mu_2(B) \leq \sum_{i=1}^\infty \mu_1(A_i)\mu_2(B_i).
%	\]
%	However, 
%	\[
%	A \times B = \bigcup_{i=1}^\infty (A \cap A_i) \times (B \cap B_i)
%	\]
%	so that the previous Lemma yields
%	\[
%	\begin{split}
%	\mu_1(A) \mu_2(B) 
%	&= \sum_{i=1}^\infty \mu_1(A \cap A_i) \mu_2(B \cap B_i)\\
%	&\leq \sum_{i=1}^\infty \mu_1(A_i) \mu_2(B_i).
%	\end{split}
%	\]
%\end{proof}
%
%Application of the Carath\'eodory extension theorem now gives us the following theorem, which is slightly stronger than Theorem \ref{th:construction-product-measure}.
%
%\begin{theorem}[Construction of product measure]
%	\label{th:construction-product-measure-rep}
%	Let $(\Omega_i, \cF_i, \mu_i)$, for $i = 1, 2$,  be two measure spaces. 
%	Then 
%%	the collection 
%%	\[
%%	\cS := \{ A \times B : \ A \in \mathcal{G}_1 ,\; B \in \mathcal{G}_2 \}
%%	\]
%%	is a semiring and and 
%	the set function $\mu_\circ: \cA(\cS) \to [0,+\infty]$ given by
%	\[
%	\mu_\circ(A \times B) := \mu_1(A) \cdot \mu_2(B) \qquad \text{for $A \in \cF_1$ and $B \in \cF_2$ is a premeasure.}
%	\]
%	 Let $\mu^*$ be the Carath\'eodory outer measure induced by $\mu_\circ$. Then, the Carath\'eodory extension of $\mu_\circ$, denoted by $\overline{\mu_1 \otimes \mu_2}$, is a measure defined on the $\sigma$-algebra of $\mu^*$-measurable subsets of $\Omega$, which we denote by $\overline{\cF_1\otimes \cF_2}$. The $\sigma$-algebra $\overline{\cF_1\otimes \cF_2}$ is larger than $\cF_1 \otimes \cF_2$.
%	
%	If the measure spaces $(\Omega_i, \cF_i, \mu_i)$ are $\sigma$-finite, the measure $\mu_1 \otimes \mu_2$, which is defined as the restriction of $\overline{\mu_1 \otimes \mu_2}$ to $\cF_1 \otimes \cF_2$, is the unique measure on $\cF_1 \otimes \cF_2$ extending $\mu_\circ$.
%\end{theorem}

%In this section, we are going to construct the (independent) product of two measure spaces. As for the setup, let $(\Omega_1, \cF_1, \mu_1)$ and $(\Omega_2, \cF_2, \mu_2)$ be two measure spaces. 
%
%We would now like to endow (the Cartesian product) $\Omega_1 \times \Omega_2$ with a $\sigma$-algebra, which we will call $\cF_1 \otimes \cF_2$. It is a relatively natural choice to require that, given sets $A_1 \subset \cF_1$ and $A_2 \subset \cF_2$, that $A_1 \times A_2$ should be contained in the $\sigma$-algebra $\cF_1 \otimes \cF_2$. Thus, we just let $\cF_1 \otimes \cF_2$ be the $\sigma$-algebra generated by such product sets.
%
%The independent product measure $\mathbb{P}_1 \otimes \mathbb{P}_2$ should satisfy
%\[
%\mathbb{P}_1 \otimes \mathbb{P}_2 (A_1 \times A_2) = \mathbb{P}_1 (A_1) \mathbb{P}_2(A_2).
%\]
%Then we should just hope for the best. That is, we will show that there exists a unique probability measure $\mathbb{P}_1 \otimes \mathbb{P}_2$ with this property.
%
%The construction of the product measure is done by Caratheodory-Hahn extension theorem.

\section{Fubini's Theorem and Tonelli's Theorem}

In this section, we will present four versions of a very similar statement, which basically states that in order to integrate over a product measure space, one may use iterated integration, and one may also change the order of integration, very similar to what you have seen for Riemann integration.

\begin{example}
	Let $f: [0,1]\times[0,1] \to \bbR$ be continuous. Then  
	\[
	\int_{[0,1]\times[0,1]} f\, \dd A = \int_0^1\!\! \int_0^1 f(x,y)\, \dd x\, \dd y = \int_0^1\!\! \int_0^1 f(x,y)\, \dd y \,\dd x.
	\]	
	The left-hand side can either be interpreted as the two-dimensional Riemann integral or the integral against the two-dimensional Lebesgue measure: these integrals agree. 
\end{example}

Four versions sound excessive, but let us see what is satisfactory, and what is unsatisfactory about each of the versions so that we have at least some justification for the amount of variation.

\begin{theorem}[Fubini, version for non-complete measure spaces]
Let $(\Omega_i, \cF_i, \mu_i)$, $i=1,2$ be two measure spaces. 
Let $f : \Omega_1 \times \Omega_2 \to \overline{\bbR}$ be integrable on the product space $(\Omega_1 \times \Omega_2, \cF_1 \otimes \cF_2, \mu_1 \otimes \mu_2)$. Then, for every $x \in \Omega_1$, the function $y \mapsto f(x, y)$ is $(\cF_2,\cB_{\overline\bbR})$-measurable. Moreover, the function 
\[
x \mapsto \int_{\Omega_2} f(x,y)\,  \mu_2(\dd y)
\]
is $(\cF_1,\cB_{\overline\bbR})$-measurable and
\[
\begin{split}
\int_{\Omega_1 \times \Omega_2} f\, \dd \mu_1 \otimes \mu_2 
&= \int_{\Omega_1} \left( \int_{\Omega_2 } f(x,  y ) \,\mu_2(\dd y) \right) \mu_1(\dd x)\\
&= \int_{\Omega_2} \left( \int_{\Omega_1} f(x, y) \, \mu_1(\dd x) \right) \mu_2(\dd y).
\end{split}
\] 
\end{theorem}

Checking whether you can apply Fubini's theorem usually comes with (at least) two difficulties. First, you need to check that the function $f: \Omega_1 \times \Omega_2 \to \overline{\bbR}$ is measurable with respect to the product $\sigma$-algebra. This somehow falls into the category ``if some crazy procedure does not construct $f$, it is probably fine". What can at times be more difficult, is to check that $f$ is integrable. This is an important check, because if $f$ is not integrable, the conclusion of the theorem may not hold.

This second difficulty is somehow alleviated by Tonelli's theorem, stated next. Tonelli's theorem is about nonnegative functions, and does not assume integrability. It does need the additional assumption of $\sigma$-finiteness of the measure spaces.

\begin{theorem}[Tonelli, version for non-complete measure spaces]
	Let $(\Omega_i, \cF_i, \mu_i)$, $i=1,2$ be two $\sigma$-finite measure spaces. 
	Let $f : \Omega_1 \times \Omega_2 \to [0,+\infty]$ be measurable on the product space $(\Omega_1 \times \Omega_2, \cF_1 \otimes \cF_2, \mu_1 \otimes \mu_2)$. Then, for every $x \in \Omega_1$, the function $y \mapsto f(x, y)$ is $(\cF_2,\cB_{\overline\bbR})$-measurable. Moreover, the function 
	\[
	x \mapsto \int_{\Omega_2} f(x,y)\, \dd \mu_2(y)
	\]
	is $(\cF_1,\cB_{\overline\bbR})$-measurable and
	\[
	\begin{split}
	\int_{\Omega_1 \times \Omega_2} f\, \dd \mu_1 \otimes \mu_2 
	&= \int_{\Omega_1} \left( \int_{\Omega_2 } f(x,  y ) \,\mu_2(\dd y) \right) \mu_1(\dd x)\\
	&= \int_{\Omega_2} \left( \int_{\Omega_1} f(x, y)  \,\mu_1(x) \right) \mu_2(\dd y).
	\end{split}
	\] 
\end{theorem}

While both the Fubini Theorem and the Tonelli theorem tell us that when integrating with respect to the product measures, the order does not could, they are not yet as useful as you would like. For example both have the annoying property, that they do not hold for the Lebesgue measure, since for instance the Lebesgue measure on $\bbR^2$ is not the product of the Lebesgue measures on $\bbR$ (why?). Instead, the Lebesgue measure is given as the completion of the product measure defined on the completion of the Borel \sigalg/. Luckily, there are versions of Fubini's and Tonelli's theorems for complete measure spaces. Recall that for a given measure space $(\Omega, \cF, \mu)$ we denote its completion by $(\Omega, \overline{\cF}, \overline{\mu})$.

\begin{theorem}[Fubini, version for complete measure spaces]
Let $(\Omega_i, \cF_i, \mu_i)$, $i=1,2$ be two complete measure spaces. 
Let $f : \Omega_1 \times \Omega_2 \to \overline{\bbR}$ be integrable on the product space $(\Omega_1 \times \Omega_2, \overline{\cF_1 \otimes \cF_2}, \overline{\mu_1 \otimes \mu_2})$. Then, for $\mu_1$-almost every $x \in \Omega_1$, the function $y \mapsto f(x, y)$ is $(\cF_2,\cB_{\overline\bbR})$-measurable. Moreover, the function 
\[
x \mapsto \int_{\Omega_2} f(x,y)\, \dd \mu_2(y)
\]
is $(\cF_1,\cB_{\overline\bbR})$-measurable and
\[
\begin{split}
\int_{\Omega_1 \times \Omega_2} f\, \dd \overline{\mu_1 \otimes \mu_2} 
&= \int_{\Omega_1} \left( \int_{\Omega_2 } f(x,  y ) \,\mu_2(\dd y) \right) \mu_1(\dd x)\\
&= \int_{\Omega_2} \left( \int_{\Omega_1} f(x, y) \,\mu_1(\dd x) \right) \mu_2(\dd y).
\end{split}
\] 	
\end{theorem}

Note that this version of Fubini's theorem assumes that the measure spaces involved are complete. 
Note also that the function $y \mapsto f(x,y)$ is in general no longer measurable for \emph{all} $x \in \Omega_1$. Just as the version of Fubini's theorem for not necessarily complete measures, the integrability of the function $f$ is assumed. Tonelli's theorem can sometimes be useful to establish this integrability.

\begin{theorem}[Tonelli, version for complete measure spaces]
	Let $(\Omega_i, \cF_i, \mu_i)$, $i=1,2$ be two complete, $\sigma$-finite, measure spaces. 
	Let $f : \Omega_1 \times \Omega_2 \to [0,+\infty]$ be measurable on the product space $(\Omega_1 \times \Omega_2, \overline{\cF_1 \otimes \cF_2}, \overline{\mu_1 \otimes \mu_2})$. Then, for $\mu_1$-almost every $x \in \Omega_1$, the function $y \mapsto f(x, y)$ is $(\cF_2,\cB_{\overline\bbR})$-measurable. Moreover, the function 
	\[
	x \mapsto \int_{\Omega_2} f(x,y)\, \dd \mu_2(y)
	\]
	is $(\cF_1,\cB_{\overline\bbR})$-measurable and
	\[
	\begin{split}
	\int_{\Omega_1 \times \Omega_2} f \,\dd \overline{\mu_1 \otimes \mu_2} 
	&= \int_{\Omega_1} \left( \int_{\Omega_2 } f(x,  y ) \,\mu_2(\dd y) \right) \mu_1(\dd x)\\
	&= \int_{\Omega_2} \left( \int_{\Omega_1} f(x, y)  \,\mu_1(\dd x) \right) \mu_2(\dd y).
	\end{split}
	\] 	
\end{theorem}

The take-away of these four theorems is that if you have to integrate either with respect to the product measures or the completion of the product measures (as is the case for Lebesgue) then as long as your function is measurable this can be done by iterative integration and the order does not matter.

%In the lecture, we will not go into the proofs of these theorems, because they are very technical. Just to be complete, I have included the proof in these lecture notes.

\section{Problems}

\begin{problem}\label{prb:product_sigalgs_generators}
Prove Lemma~\ref{lem:product_sigalgs_generators}.
\end{problem}

\begin{problem}
Take $d \in \bbN$ and let $(\Omega_i, \cF_i)_{1 \le i \le d}$ be $\sigma$-finite measurable spaces such that $\cF_i = \sigma(A_i)$. Show that
\[
	\cF_1 \otimes \dots \otimes \cF_d = \sigma(\cA_1 \times \dots \times \cA_d).
\]
\end{problem}

\begin{problem}
Let $(\bbR^d, \cB_{\bbR^d})$ be the $d$-dimensional Borel space. Prove that the \sigalg/ $\cB_{\bbR^d}$ is generated by any of the following family of sets:
\begin{enumerate}[label={(\alph*)}]
\item $\{(a_1, b_1) \times \dots \times (a_d,b_d)\}$,
\item $\{(a_1, b_1] \times \dots \times (a_d,b_d]\}$,
\item $\{[a_1, b_1) \times \dots \times [a_d,b_d)\}$,
\item $\{(-\infty,a_1] \times \dots \times (-\infty,a_d]\}$,
\item $\{(-\infty,a_1) \times \dots \times (-\infty, a_d)\}$,
\item $\{[a_1, \infty) \times \dots \times [a_d, \infty)\}$,
\item $\{(a_1,\infty) \times \dots \times (a_d, \infty)\}$,
\end{enumerate}
where $a_i, b_i \in \bbQ,$ or $a_i, b_i \in \bbR$ for all $i = 1, \dots, d$.
\end{problem}

\begin{problem}\label{prb:independence_random_variables}
Prove Lemma~\ref{lem:independence_random_variables}
\end{problem}

\begin{problem}[Joint densities]
Let $X,Y$ be two random variables with a joint density $f : \bbR \times \bbR \to \bbR$. That is, $f$ as a function from $(\bbR^2, \cB_{\bbR^2})$ to $(\bbR, \cB_{\bbR})$ is measurable and integrable, and for any $A \in \cB_{\bbR^2}$
\[
	\bbP((X,Y) \in A) = \int_A f \, \dd \lambda^2,
\]
where $\lambda^2$ is the 2-dimensional Lebesgue measure on $\bbR^2$

Define the marginal function $f_X(x) = \int_\bbR f(x,y) \, \lambda(\dd y)$.
\begin{enumerate}[label={(\alph*)}]
\item Prove that $f_X$, as a function from $(\bbR, \cB_{\bbR})$ to $(\bbR, \cB_{\bbR})$ is measurable and integrable.
\item Show that
\[
	X_\# \bbP (A) = \int_A f_X \, \dd \lambda.
\]
That is, $f_X$ is the density function of $X$.
\end{enumerate}
\end{problem}